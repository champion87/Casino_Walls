<html>
    <head>
        <title>
            Casino Walls
        </title>
    </head>
    <body onload="display_coin_amount()">
        <h1>This is the main game screen please chose a game</h1>
        <p id="coins">coin count: </p>
        <button onclick="location.href = '/games/wheel_of_fortune/';">Go to wheel of fortune</button>
        <button onclick="location.href = '/games/black_jack/lobby1';">Go to black jack</button>
        <button onclick="location.href = '/lobby2';">Try Lobby 2</button>
        <button onclick="logout();">logout</button>
        <script>
            async function display_coin_amount(){
                const coin_res = await fetch('/get_coin_amount/');
                let coin_amount = await coin_res.text();
                document.getElementById("coins").textContent = "coin amount: " + coin_amount.slice(1, -1);
            }

            async function logout(){
                await fetch('/logout/');
                location.href = '/';
            }

        </script>
    </body>
</html>